#build & up
docker compose up -d --build
#コンテナ一覧を表示
docker compose ps
#作成したappコンテナログイン
docker compose exec app bash
#PHPのバージョン確認
php -v
#Composerのバージョン確認
composer -V
#PHPのバージョン確認(コンテナの外からコマンド実行)
docker compose exec [サービス名] [実行したいコマンド]
docker compose exec app php -v
#Laravelをインストールする
docker compose exec app bash
composer create-project --prefer-dist "laravel/laravel=8.*" .
php artisan -V
#マイグレーション実行(エラーが発生)
docker compose exec app bash
php artisan migrate
#backend/.env のDB接続設定を修正する。
DB_CONNECTION=mysql
DB_HOST=db
DB_PORT=3306
DB_DATABASE=laravel_local
DB_USERNAME=phper
DB_PASSWORD=secret
#backend/.env.example も同様にDB接続設定を修正しておく
DB_CONNECTION=mysql
DB_HOST=db
DB_PORT=3306
DB_DATABASE=laravel_local
DB_USERNAME=phper
DB_PASSWORD=secret
#マイグレーション実行(再実行)
docker compose exec app bash
php artisan migrate
#試しにデータを作ってみる
docker compose exec app bash
php artisan tinker
$user = new App\Models\User();
$user->name = 'phper';
$user->email = 'phper@example.com';
$user->password = Hash::make('secret');
$user->save();
exit
docker compose exec db bash
mysql -u $MYSQL_USER -p$MYSQL_PASSWORD $MYSQL_DATABASE
SELECT * FROM users;
exit
